
---

### ğŸ“ æ–‡ä»¶ 4: `04_å‰ç«¯äº¤äº’ä¸JSæ‰©å±•_é«˜çº§ç¯‡.md`

```markdown
# 04. å‰ç«¯äº¤äº’ä¸ JS æ‰©å±• (é«˜çº§ç¯‡)

æœ‰äº›åŠŸèƒ½ï¼ˆå¦‚åœ¨èŠ‚ç‚¹ä¸Šæ˜¾ç¤ºç›´æ–¹å›¾ã€æŒ‰é’®ã€ç›‘å¬äº‹ä»¶ï¼‰å¿…é¡»é€šè¿‡ Javascript å®ç°ã€‚

## 1. JS æ‰©å±•æ³¨å†Œæ¨¡æ¿
æ–‡ä»¶ä½ç½®: `web/my_extension.js`

```javascript
import { app } from "../../scripts/app.js";
import { api } from "../../scripts/api.js";

app.registerExtension({
    name: "My.Unique.Extension.ID",

    // 1. é¡µé¢åŠ è½½å®Œæˆæ—¶
    async setup() {
        console.log("My Extension Setup");
    },

    // 2. èŠ‚ç‚¹è¢«åˆ›å»ºæ—¶ (æ ¸å¿ƒé’©å­)
    async nodeCreated(node, app) {
        if (node.comfyClass === "MyAwesomeNode") {
            // ç¤ºä¾‹ï¼šç»™èŠ‚ç‚¹å¢åŠ ä¸€ä¸ªæŒ‰é’®
            const btn = node.addWidget("button", "Run Action", null, () => {
                alert("Clicked!");
                // ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨ API
            });
            
            // ç¤ºä¾‹ï¼šè°ƒæ•´èŠ‚ç‚¹å¤§å°
            node.setSize([300, 100]);
        }
    },

    // 3. åœ¨ Python èŠ‚ç‚¹å®šä¹‰åŠ è½½å‰ä¿®æ”¹å®ƒ
    async beforeRegisterNodeDef(nodeType, nodeData, app) {
        if (nodeData.name === "MyAwesomeNode") {
            // åŠ¨æ€ä¿®æ”¹é»˜è®¤å€¼
            nodeData.input.required.int_value[1].default = 99;
        }
    }
});